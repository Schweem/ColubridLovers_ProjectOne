<!-- The main purpose of this page is to have a list of all the current calsses, and future classes-->
<!-- Written in large part by copilot, and constructed from parts of the other HTML pages-->
{% extends 'base.html' %}
{% load static %}

{% block title %}Class List{% endblock %}

{% block content %}
    <!-- Go through the classes we are currently taking, showing the title, time its held, and the dates its held on -->
    <h2>Current Classes</h2>
    <style>
    .add-class-button {
        position: absolute;
        top: 5px;
        right: 10px;
        background-color: #5bc0de;
        color: white;
        padding: 10px;
        border: none;
        cursor: pointer;
        border-radius: 12%;
        
    }

    .popup {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        padding: 20px;
        border: 1px solid #ddd;
        background-color: white;
        display: none;  /* Hide the popup by default */
    }

    .popup.active {
        display: block;  /* Show the popup when it has the "active" class */
    }
    .class-list {
        list-style-type: none;
        padding: 0;
        width: 50%;
        margin: 0 auto;
        border: 1px solid #ddd;
        border-radius: 5px;
    }

    .class-list li {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px;
        border-bottom: 1px solid #ddd;
    }

    .class-list li:last-child {
        border-bottom: none;
    }

    .class-list li a {
        background-color: #f44336;
        color: white;
        padding: 10px 20px;
        text-decoration: none;
        border-radius: 5px;
    }

    .class-list li a:hover {
        background-color: #e60000;
    }
    </style>
   
<h2 style="text-align: center;">Current Classes</h2>
<ul class="class-list">
    {% for class in current_classes %}
        <li>{{ class.title }} - {{ class.time }} - {{ class.date }} <a href="{% url 'delete_class' class.id %}">Delete</a></li>
    {% endfor %}
</ul>

<h2 style="text-align: center;">Future Classes</h2>
<ul class="class-list">
    {% for class in future_classes %}
        <li>{{ class.title }} - {{ class.attributes }} <a href="{% url 'delete_class' class.id %}">Delete</a></li>
    {% endfor %}
</ul>

<h2 style="text-align: center;">Completed Classes</h2>
<ul class="class-list">
    {% for class in completed_classes %}
        <li>{{ class.title }} - {{ class.attributes }} <a href="{% url 'delete_class' class.id %}">Delete</a></li>
    {% endfor %}
</ul>






    <button class="add-class-button" onclick="togglePopup()">Add Class</button> <!--Copied directly from the todo list and calendar-->
    <!-- Add event popup made by copilot--> 
    <div id="addClassPopup" class="popup">
        <form method="post">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit">Add</button>
            <button type = "close" onclick="togglePopup()">Close</button>
        </form>
    </div>
    <script>
        function togglePopup() {
            var popup = document.getElementById("addClassPopup");
            popup.classList.toggle("active");
        }
    </script>



    {% endblock %}